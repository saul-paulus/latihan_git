<html>

<head>
    <title>Update Mahasiswa</title>
</head>

<body>
    <form method="put">
        <label>ID</label>
        <input type="number" name="id" id="id" /><br/>
        <label>NIM</label>
        <input type="number" name="nim" id="nim" /><br/>
        <label>Name</label>
        <input type="text" maxlength="64" name="name" id="name" /><br/>
        <label>Semester</label>
        <input type="number" max="14" name="semester" id="semester" /><br/>
        <input type="button" value="submit" onclick="sendAsJson()" />
    </form>
    <script>
        async function sendAsJson() {
            let data = {};
            let keys = ['id', 'nim', 'name', 'semester']
            for (let k of keys) {
                data[k] = document.getElementById(k).value;
            }
            data.id = parseInt(data.id);
            data.nim = parseInt(data.nim);
            data.semester = parseInt(data.semester);
            let res = await fetch('', {
                method: 'PUT',
                headers: {
                    'content-type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            res.json().then(data => {
                console.log(data);
            });
        }
    </script>
</body>

</html>